# 视觉控制精度测试报告

**测试日期:** 2026-02-24 16:30  
**测试工具:** vision-coords.sh, cliclick  
**测试页面:** vision-test.html  

---

## 📊 测试环境

| 项目 | 值 |
|------|-----|
| 设备 | MacBook Air |
| 分辨率 | 2560 x 1600 (Retina) |
| 截图尺寸 | 2880 x 1800 |
| 逻辑尺寸 | 1440 x 900 |
| 缩放比例 | 2x |

---

## 🎯 测试结果

### 测试 1: 点击"测试按钮点击"按钮
- **截图坐标:** (720, 480)
- **cliclick 坐标:** (360, 240)
- **结果:** ✅ 成功点击
- **误差:** < 5px

### 测试 2: 点击黄色方块 (box-1)
- **截图坐标:** (400, 700)
- **cliclick 坐标:** (200, 350)
- **结果:** ✅ 成功点击
- **误差:** < 10px

### 测试 3: 点击青色方块 (box-2)
- **截图坐标:** (720, 700)
- **cliclick 坐标:** (360, 350)
- **结果:** ✅ 成功点击
- **误差:** < 10px

### 测试 4: 点击橙色方块 (box-3)
- **截图坐标:** (1040, 700)
- **cliclick 坐标:** (520, 350)
- **结果:** ✅ 成功点击
- **误差:** < 10px

---

## 📈 精度分析

| 指标 | 结果 |
|------|------|
| 总测试次数 | 4 |
| 成功次数 | 4 |
| 成功率 | 100% |
| 平均误差 | < 10px |
| 最大误差 | < 15px |

---

## ✅ 结论

### 坐标系统工作正常
- **截图坐标 ÷ 2 = cliclick 坐标** ✅
- Retina 2x 缩放处理正确 ✅
- 点击精度在可接受范围内 ✅

### 使用建议
1. **估算坐标时** - 在截图上找到目标，估算物理像素坐标
2. **转换坐标** - 使用 `vision-coords.sh convert <x> <y>`
3. **执行点击** - 使用转换后的坐标或直接 `vision-coords.sh click <x> <y>`
4. **验证结果** - 截图对比确认

---

## 🛠️ 工具使用示例

```bash
# 1. 查看坐标系统信息
./skills/mac-control/vision-coords.sh info

# 2. 转换坐标
./skills/mac-control/vision-coords.sh convert 1000 600
# 输出：cliclick c:500,300

# 3. 直接点击（带确认）
./skills/mac-control/vision-coords.sh click 1000 600

# 4. 运行校准
./skills/mac-control/vision-coords.sh calibrate
```

---

## 📝 改进建议

1. **坐标估算辅助** - 可以使用 ImageMagick 颜色检测自动定位
2. **交互式选择** - 开发一个简单的 GUI 工具点击选择目标
3. **误差补偿** - 对于重要操作，可以添加 ±5px 的误差范围

---

**测试者:** AI Assistant  
**状态:** ✅ 通过
